(this["webpackJsonp@antv/x6-sites-demos-tutorial.getting-started.helloworld"]=this["webpackJsonp@antv/x6-sites-demos-tutorial.getting-started.helloworld"]||[]).push([[0],{180:function(e,t,n){e.exports=n(262)},256:function(e,t,n){},257:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(48),i=n.n(r),l=n(4),s=n(5),c=n(6),u=n(7),h=n(176),d=n(33),p=n(272),f=n(281),g=n(282),m=n(278),y=n(284),v=n(277),b=n(283),k=n(286),C=n(178),E=n(285),x=n(275),S=n(276),P=n(279),w=n(280),A=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).collapsed=!1,e.expandSize=void 0,e}return Object(s.a)(n,[{key:"postprocess",value:function(){this.toggleCollapse(!1)}},{key:"isCollapsed",value:function(){return this.collapsed}},{key:"toggleCollapse",value:function(e){var t=null==e?!this.collapsed:e;t?(this.attr("buttonSign",{d:"M 1 5 9 5 M 5 1 5 9"}),this.expandSize=this.getSize(),this.resize(190,32)):(this.attr("buttonSign",{d:"M 2 5 8 5"}),this.expandSize&&this.resize(this.expandSize.width,this.expandSize.height)),this.collapsed=t}}]),n}(d.e);A.config({markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"},{tagName:"g",selector:"buttonGroup",children:[{tagName:"rect",selector:"button",attrs:{"pointer-events":"visiblePainted"}},{tagName:"path",selector:"buttonSign",attrs:{fill:"none","pointer-events":"none"}}]}],ports:{groups:{top:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"top"},left:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"left"},right:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"right"},bottom:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"bottom"}},items:[{id:"top1",group:"top"},{id:"top2",group:"top"},{id:"top3",group:"top"},{id:"bottom1",group:"bottom"},{id:"bottom2",group:"bottom"},{id:"bottom3",group:"bottom"},{id:"left1",group:"left"},{id:"right1",group:"right"}]},attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:1,fill:"#111111",stroke:"#111111"},buttonGroup:{refX:8,refY:8},button:{height:14,width:16,rx:2,ry:2,fill:"#111111",stroke:"#111111",cursor:"pointer",event:"node:collapse"},buttonSign:{refX:3,refY:2,stroke:"#808080"},label:{fontSzie:12,fill:"#fff",text:"",strokeWidth:2,refX:32,refY:10}}});var B=n(19),T=n(270),N=n(269),O=n(271),F=n(266);function z(e){var t=e.getParent();if(t&&t.isNode()){var n=t.getSize(),a=t.getPosition(),o=a.x,r=a.y,i=a.x+n.width,l=a.y+n.height,s=!1,c=e.getBBox().inflate(10);c.y=c.y-20,c.height=c.height+20;var u=c.getCorner();if(c.x<o&&(o=c.x,s=!0),c.y<r&&(r=c.y,s=!0),u.x>i&&(i=u.x,s=!0),u.y>l&&(l=u.y,s=!0),s)if(t instanceof A)t.isCollapsed()||(t.setPosition(o,r),t.setSize(i-o,l-r),z(t))}}function R(e,t,n){if(e.unselect(e.getCells()),e.select(n),t.setState({editType:"GRAPH"}),t.setState({editType:"EDGE"}),n.getLabels().length>0){var a=n.getLabels()[0].attrs.label.text.toString();t.edgePanel.setState({relationText:a})}else t.edgePanel.setState({relationText:""})}function j(e,t,n){e.unselect(e.getCells()),e.select(n),t.setState({editType:"GRAPH"}),n instanceof A?(t.setState({editType:"GROUP"}),t.groupPanel.setState({subrequirement:n.getAttrByPath("label/text")})):"reuse-node"===n.shape?(t.setState({editType:"REUSE"}),t.reusePanel.setState({subqueryText:n.getAttrByPath("name/text")})):"subquery-node"===n.shape&&(t.setState({editType:"NODE"}),t.nodePanel.setState({subqueryText:n.getAttrByPath("rank/text")}),t.nodePanel.setState({filterText:n.getAttrByPath("name/text")}),t.nodePanel.setState({showText:n.getAttrByPath("show/text")}))}function q(e){var t=e.getSelectedCells();return 1!==t.length?(h.b.error("Please select one component!"),null):t[0]}function M(e){var t=e.getAttrByPath("label/text"),n=e.getSize().width,a=8.4*(G(t)+6),o=n>a?n:a;if(e.isCollapsed()){var r=14*(t.split("\n").length+1);e.setSize({width:o,height:r})}else e.setSize({width:o,height:e.getSize().height})}function G(e){var t=0;return e.split("\n").forEach((function(e){e.length>t&&(t=e.length)})),t}function W(e){if(e instanceof A)h.b.error("Please select a Mini-query component!");else{var t=e.getAttrByPath("rank/text"),n=e.getAttrByPath("name/text"),a=e.getAttrByPath("show/text"),o=8.4*(G(t)+6),r=8.4*(G(n)+6),i=8.4*(G(a)+6),l=Math.max(o,r,i,150),s=t.split("\n").length,c=n.split("\n").length,u=14*(s+c+a.split("\n").length)+36;e.setAttrByPath("rank/refY",9/u),e.setAttrByPath("name/refY",(18+14*s)/u),e.setAttrByPath("show/refY",(27+14*(s+c))/u),e.setSize({width:l,height:u})}}function D(e){if(e instanceof A)h.b.error("Please select a Reuse component!");else{var t=e.getAttrByPath("name/text"),n=8.4*(G(t)+6),a=Math.max(n,190),o=14*(1+t.split("\n").length)+30;e.setAttrByPath("rank/refY",10/o),e.setAttrByPath("name/refY",34/o),e.setSize({width:a,height:o})}}function J(e){for(var t=document.getElementById("container").querySelectorAll(".x6-port-body"),n=0,a=t.length;n<a;n+=1)t[n].style.visibility=e?"visible":"hidden"}function I(e,t,n,a){if(console.log("addpoint: "),!n.hasParent()){d.e;var o=[];!function e(t){var n=t.getChildren();null===n||void 0===n||n.forEach((function(t){o.push(t),e(t)}))}(n),a.getCells().forEach((function(e){if(e!==n&&e instanceof A){var t=!1,a=0;for(a=0;a<o.length;a++)o[a]===e&&(t=!0);if(!t){var r=e,i=r.getProp("position"),l=r.getSize().width,s=r.getSize().height,c=n.getProp("position"),u=n.getSize().width,h=n.getSize().height,d=c.x+u/2,p=c.y+h/2;if(d>i.x&&d<i.x+l&&p>i.y&&p<i.y+s)return r.addChild(n),r.toBack(),void z(n)}}}))}}function K(e,t,n,a,o){return new A({id:e,width:t,height:n,attrs:{body:{fill:a||"blue",stroke:"#111111"},rect:{fill:a||"blue",stroke:"#000000"},label:{text:o,fill:"#111111",fontFamily:"Courier New",fontSize:14}}})}function U(e){switch(e){case"bottom1":return"left1";case"left1":return"top1";case"top1":return"top2";case"top2":return"top3";case"top3":return"right1";case"right1":return"bottom3";case"bottom3":return"bottom2";case"bottom2":return"bottom1"}throw new Error("Function not implemented.")}function Z(e){switch(e){case"bottom1":return"bottom2";case"left1":return"bottom1";case"top1":return"left1";case"top2":return"top1";case"top3":return"top2";case"right1":return"top3";case"bottom3":return"right1";case"bottom2":return"bottom3"}throw new Error("Function not implemented.")}function L(e,t,n,a,o,r,i){return i.createNode({id:e,width:t,height:n,shape:"subquery-node",attrs:{rank:{text:a,wordSpacing:"-1px",letterSpacing:0},name:{text:o,letterSpacing:0},show:{text:r,letterSpacing:0}}})}function Y(e,t,n,a,o,r,i){return i.createNode({id:e,width:t,height:n,shape:"reuse-node",attrs:{rank:{text:a,wordSpacing:"-1px",letterSpacing:0},name:{text:o,letterSpacing:0}}})}d.d.registerNode("group-node",A,!0),d.d.registerNode("subquery-node",{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"rank"},{tagName:"text",selector:"name"},{tagName:"text",selector:"show"}],attrs:{body:{refWidth:"100%",refHeight:"100%",fill:"#eeeeee",stroke:"#111111",strokeWidth:1,rx:10,ry:10,pointerEvents:"visiblePainted"},rank:{refX:.5,refY:.1,text:"",fill:"#111111",fontFamily:"Courier New",fontSize:14,textAnchor:"middle",textDecoration:"underline"},name:{refX:.5,refY:.4,text:"",fill:"#111111",fontFamily:"Courier New",fontSize:14,textAnchor:"middle"},show:{refX:.5,refY:.7,text:"",fill:"#111111",fontFamily:"Courier New",fontSize:14,stroke:"#FF8040",textAnchor:"middle"}},ports:{groups:{top:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"top"},left:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"left"},right:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"right"},bottom:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"bottom"}},items:[{id:"top1",group:"top"},{id:"top2",group:"top"},{id:"top3",group:"top"},{id:"bottom1",group:"bottom"},{id:"bottom2",group:"bottom"},{id:"bottom3",group:"bottom"},{id:"left1",group:"left"},{id:"right1",group:"right"}]}},!0),d.d.registerNode("reuse-node",{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"rank"},{tagName:"text",selector:"name"}],attrs:{body:{refWidth:"100%",refHeight:"100%",fill:"#eeeeee",stroke:"#111111",strokeWidth:1,pointerEvents:"visiblePainted"},rank:{refX:.5,refY:.1724,text:"",fill:"#111111",stroke:"#1589FF",strokeWidth:1.7,fontFamily:"Courier New",fontSize:14,textAnchor:"middle"},name:{refX:.5,refY:.6,text:"",fill:"#111111",fontFamily:"Courier New",fontSize:14,textAnchor:"middle"}},ports:{groups:{top:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"top"},left:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"left"},right:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"right"},bottom:{attrs:{circle:{r:4.6,magnet:!0,stroke:"#1589FF",strokeWidth:1,fill:"#fff"}},position:"bottom"}},items:[{id:"top1",group:"top"},{id:"top2",group:"top"},{id:"top3",group:"top"},{id:"bottom1",group:"bottom"},{id:"bottom2",group:"bottom"},{id:"bottom3",group:"bottom"},{id:"left1",group:"left"},{id:"right1",group:"right"}]}},!0);var H=T.a.TabPane,Q=N.a.Item,V=O.a.TextArea,X=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={subqueryText:"",filterText:"",showText:""},e.parent=void 0,e.componentWillUnmount=function(){e.setState=function(e,t){}},e.onChangeSubQuery=function(t){var n=q(e.parent.parent.graph);if(null!==n){var a=n;a.setAttrByPath("rank/text",t.target.value),e.setState({subqueryText:t.target.value}),W(a)}},e.onChangeFilter=function(t){var n=q(e.parent.parent.graph);if(null!==n){var a=n;a.setAttrByPath("name/text",t.target.value),e.setState({filterText:t.target.value}),W(a)}},e.onChangeShow=function(t){var n=q(e.parent.parent.graph);if(null!==n){var a=n;a.setAttrByPath("show/text",t.target.value),e.setState({showText:t.target.value}),W(a)}},e}return Object(s.a)(n,[{key:"setParent",value:function(e){this.parent=e}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){return o.a.createElement(T.a,{defaultActiveKey:"1"},o.a.createElement(H,{tab:"Mini-query Setting",key:"1",style:{padding:3}},o.a.createElement(F.a,{orientation:"left",orientationMargin:"0"},"Table"),o.a.createElement(V,{rows:1,autoFocus:!0,onChange:this.onChangeSubQuery,value:this.state.subqueryText,placeholder:"Table name"}),o.a.createElement(Q,{label:""}),o.a.createElement(F.a,{orientation:"left",orientationMargin:"0"},"Filter"),o.a.createElement(V,{rows:5,onChange:this.onChangeFilter,value:this.state.filterText,placeholder:"Conditions to filter rows"}),o.a.createElement(Q,{label:""}),o.a.createElement(F.a,{orientation:"left",orientationMargin:"0"},"Columns"),o.a.createElement(V,{rows:10,onChange:this.onChangeShow,value:this.state.showText,placeholder:"Columns to display"})))}}]),n}(o.a.Component),_=n(119),$=n(273),ee=n(268),te=n(274),ne=T.a.TabPane,ae=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).parent=void 0,e.draw=function(){var t,n=null===(t=document.getElementById("jsonText"))||void 0===t?void 0:t.textContent;e.parent.parent.graph.fromJSON(JSON.parse(n))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"setParent",value:function(e){this.parent=e}},{key:"render",value:function(){var e=this,t={beforeUpload:function(t){var n=new FileReader;return n.readAsText(t),n.onload=function(){return e.parent.parent.graph.fromJSON(JSON.parse(n.result)),h.b.success("Upload successfully"),!0},!1}};return o.a.createElement("div",null,o.a.createElement(T.a,{defaultActiveKey:"1"},o.a.createElement(ne,{tab:"Introduction",key:"1",style:{padding:3}},o.a.createElement($.a,{style:{marginTop:30}},o.a.createElement($.a.Item,null,o.a.createElement("strong",null,"VQFLow")," is the abbreviation for ",o.a.createElement("strong",null,"V"),"isual ",o.a.createElement("strong",null,"Q"),"uery ",o.a.createElement("strong",null,"F"),"low, which aims to help business analysts quickly and clearly describe the requirements of complex queries."),o.a.createElement($.a.Item,null,"The query requirements described by VQFlow are easy to understand, and thus developers can quickly and correctly write complex queries."))),o.a.createElement(ne,{tab:"Upload JSON",key:"3",style:{padding:3}},o.a.createElement(F.a,{orientation:"left",orientationMargin:"0"},"Draw from JSON data"),o.a.createElement(ee.a,t,o.a.createElement(_.a,{icon:o.a.createElement(te.a,null)},"Click to Upload")))))}}]),n}(o.a.Component),oe=T.a.TabPane,re=O.a.TextArea,ie=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={relationText:""},e.parent=void 0,e.onChangeRelation=function(t){e.parent.parent.graph.getSelectedCells()[0].setLabels(t.target.value),e.setState({relationText:t.target.value})},e}return Object(s.a)(n,[{key:"setParent",value:function(e){this.parent=e}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){return o.a.createElement(T.a,{defaultActiveKey:"1"},o.a.createElement(oe,{tab:"Relation Setting",key:"1",style:{padding:3}},o.a.createElement(F.a,{orientation:"left",orientationMargin:"0"},"Relation"),o.a.createElement(re,{rows:10,autoFocus:!0,onChange:this.onChangeRelation,value:this.state.relationText,placeholder:"EXPAND / REF / UNION"})))}}]),n}(o.a.Component),le=T.a.TabPane,se=O.a.TextArea,ce=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={subrequirement:""},e.parent=void 0,e.onChangeSubRequirement=function(t){var n=q(e.parent.parent.graph);if(null!==n){var a=n;a.setAttrByPath("label/text",t.target.value),e.setState({subrequirement:t.target.value}),M(a)}},e}return Object(s.a)(n,[{key:"setParent",value:function(e){this.parent=e}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){return o.a.createElement(T.a,{defaultActiveKey:"1"},o.a.createElement(le,{tab:"Requirements Module Setting",key:"1",style:{padding:3}},o.a.createElement(F.a,{orientation:"left",orientationMargin:"0"},"Requirements Description"),o.a.createElement(se,{rows:10,autoFocus:!0,onChange:this.onChangeSubRequirement,value:this.state.subrequirement,placeholder:"Please input the requirements description"})))}}]),n}(o.a.Component),ue=(n(256),T.a.TabPane),he=O.a.TextArea,de=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={subqueryText:""},e.parent=void 0,e.componentWillUnmount=function(){e.setState=function(e,t){}},e.onChangeSubQuery=function(t){var n=q(e.parent.parent.graph);if(null!==n){var a=n;a.setAttrByPath("name/text",t.target.value),e.setState({subqueryText:t.target.value}),D(a)}},e}return Object(s.a)(n,[{key:"setParent",value:function(e){this.parent=e}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){return o.a.createElement(T.a,{defaultActiveKey:"1"},o.a.createElement(ue,{tab:"Reuse Setting",key:"1",style:{padding:3}},o.a.createElement(F.a,{orientation:"left",orientationMargin:"0"},"Requirement to reuse"),o.a.createElement(he,{rows:10,autoFocus:!0,onChange:this.onChangeSubQuery,value:this.state.subqueryText,placeholder:"Please copy the requirements description of a Requirements Module"})))}}]),n}(o.a.Component),pe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={editType:"GRAPH"},e.parent=void 0,e.nodePanel=void 0,e.edgePanel=void 0,e.groupPanel=void 0,e.reusePanel=void 0,e.graphPanel=void 0,e.onBindNodePanel=function(t){e.nodePanel=t,e.nodePanel.setParent(Object(B.a)(e))},e.onBindEdgePanel=function(t){e.edgePanel=t,e.edgePanel.setParent(Object(B.a)(e))},e.onBindGraphPanel=function(t){e.graphPanel=t,e.graphPanel.setParent(Object(B.a)(e))},e.onBindGroupPanel=function(t){e.groupPanel=t,e.groupPanel.setParent(Object(B.a)(e))},e.onBindReusePanel=function(t){e.reusePanel=t,e.reusePanel.setParent(Object(B.a)(e))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"setParent",value:function(e){this.parent=e}},{key:"render",value:function(){return o.a.createElement("div",{className:"configPanel"},"GRAPH"===this.state.editType&&o.a.createElement(ae,{onRef:this.onBindGraphPanel}),"NODE"===this.state.editType&&o.a.createElement(X,{onRef:this.onBindNodePanel}),"GROUP"===this.state.editType&&o.a.createElement(ce,{onRef:this.onBindGroupPanel}),"EDGE"===this.state.editType&&o.a.createElement(ie,{onRef:this.onBindEdgePanel}),"REUSE"===this.state.editType&&o.a.createElement(de,{onRef:this.onBindReusePanel}))}}]),n}(o.a.Component),fe=(n(257),n(258),n(259),n(267)),ge=p.a.Item,me=p.a.Group,ye=d.a.Stencil,ve=function(){return o.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("title",null,"Layer 1"),o.a.createElement("text",{fill:"#000000",x:"299.34132",y:"414.70163",id:"svg_2",fontSize:"30",fontFamily:"Noto Sans JP",textAnchor:"start",stroke:"#000",transform:"matrix(14.5978 0 0 14.5978 -3978.83 -5394.16)"},"S"),o.a.createElement("path",{stroke:"null",fill:"#333333",d:"m86.36227,147.04818a35.40779,35.40779 0 0 1 35.40779,35.40779l0,177.03898l177.03897,0a35.40779,35.40779 0 1 1 0,70.81558l-212.44677,0a35.40779,35.40779 0 0 1 -35.4078,-35.40779l0,-212.44678a35.40779,35.40779 0 0 1 35.4078,-35.40779zm263.04451,-19.54511a424.89355,424.89355 0 0 1 463.02774,92.13109a35.40779,35.40779 0 0 1 -50.06663,50.06663a354.07796,354.07796 0 0 0 -500.73704,0l-150.23528,150.23527a35.40779,35.40779 0 0 1 -50.06663,-50.10203l150.23528,-150.19986a424.89355,424.89355 0 0 1 137.84255,-92.13109zm340.37514,517.73279a35.40779,35.40779 0 0 1 35.40779,-35.40779l212.44678,0a35.40779,35.40779 0 0 1 35.4078,35.40779l0,212.44678a35.40779,35.40779 0 1 1 -70.8156,0l0,-177.03898l-177.03898,0a35.40779,35.40779 0 0 1 -35.40779,-35.40779zm272.88789,-25.03331a35.40779,35.40779 0 0 1 0,50.10203l-150.23528,150.19986a424.89355,424.89355 0 0 1 -600.87029,0a35.40779,35.40779 0 1 1 50.06663,-50.06663a354.07796,354.07796 0 0 0 500.73704,0l150.23528,-150.19986a35.40779,35.40779 0 0 1 50.06663,0l0,-0.03541z",id:"svg_9"})))},be=function(){return o.a.createElement(fe.a,{component:ve})},ke=function(){return o.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("title",null,"Layer 1"),o.a.createElement("path",{stroke:"null",id:"svg_1",d:"m939.67571,145.14783a35.36938,35.36938 0 0 1 35.36939,35.36938l0,212.21628a35.36938,35.36938 0 0 1 -35.36939,35.36938l-212.21628,0a35.36938,35.36938 0 1 1 0,-70.73875l176.84691,0l0,-176.84691a35.36938,35.36938 0 0 1 35.36938,-35.36938zm-425.17531,18.92262a353.6938,353.6938 0 0 0 -250.09688,103.59692a35.36938,35.36938 0 1 1 -50.0123,-50.0123a424.43256,424.43256 0 0 1 600.21837,0l150.07228,150.0369a35.36938,35.36938 0 0 1 -50.0123,50.04767l-150.10765,-150.07227a353.6938,353.6938 0 0 0 -250.06151,-103.59692zm-460.5447,478.72456a35.36938,35.36938 0 0 1 35.36939,-35.36938l212.21628,0a35.36938,35.36938 0 1 1 0,70.73875l-176.84691,0l0,176.84691a35.36938,35.36938 0 1 1 -70.73876,0l0,-212.21628zm10.36323,-25.00615a35.36938,35.36938 0 0 1 50.0123,0l150.07228,150.07227a353.65843,353.65843 0 0 0 500.19376,0a35.36938,35.36938 0 0 1 50.0123,50.0123a424.43256,424.43256 0 0 1 -600.21837,0l-150.07228,-150.0369a35.36938,35.36938 0 0 1 0,-50.04767z",fill:"#333333"}),o.a.createElement("text",{fontWeight:"normal",transform:"matrix(14.5178 0 0 14.5178 -4468.57 -5462.42)",stroke:"#000",textAnchor:"start",fontFamily:"Noto Sans JP",fontSize:"30",id:"svg_2",y:"421.46735",x:"334.09207",fill:"#000000"},"S")))},Ce=function(){return o.a.createElement(fe.a,{component:ke})},Ee=function(){return o.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("title",null,"Layer 1"),o.a.createElement("text",{fill:"#000000",x:"299.34132",y:"414.70163",id:"svg_2",fontSize:"30",fontFamily:"Noto Sans JP",textAnchor:"start",stroke:"#000",transform:"matrix(14.5978 0 0 14.5978 -3978.83 -5394.16)"},"T"),o.a.createElement("path",{stroke:"null",fill:"#333333",d:"m86.36227,147.04818a35.40779,35.40779 0 0 1 35.40779,35.40779l0,177.03898l177.03897,0a35.40779,35.40779 0 1 1 0,70.81558l-212.44677,0a35.40779,35.40779 0 0 1 -35.4078,-35.40779l0,-212.44678a35.40779,35.40779 0 0 1 35.4078,-35.40779zm263.04451,-19.54511a424.89355,424.89355 0 0 1 463.02774,92.13109a35.40779,35.40779 0 0 1 -50.06663,50.06663a354.07796,354.07796 0 0 0 -500.73704,0l-150.23528,150.23527a35.40779,35.40779 0 0 1 -50.06663,-50.10203l150.23528,-150.19986a424.89355,424.89355 0 0 1 137.84255,-92.13109zm340.37514,517.73279a35.40779,35.40779 0 0 1 35.40779,-35.40779l212.44678,0a35.40779,35.40779 0 0 1 35.4078,35.40779l0,212.44678a35.40779,35.40779 0 1 1 -70.8156,0l0,-177.03898l-177.03898,0a35.40779,35.40779 0 0 1 -35.40779,-35.40779zm272.88789,-25.03331a35.40779,35.40779 0 0 1 0,50.10203l-150.23528,150.19986a424.89355,424.89355 0 0 1 -600.87029,0a35.40779,35.40779 0 1 1 50.06663,-50.06663a354.07796,354.07796 0 0 0 500.73704,0l150.23528,-150.19986a35.40779,35.40779 0 0 1 50.06663,0l0,-0.03541z",id:"svg_9"})))},xe=function(){return o.a.createElement(fe.a,{component:Ee})},Se=function(){return o.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("title",null,"Layer 1"),o.a.createElement("path",{stroke:"null",id:"svg_1",d:"m939.67571,145.14783a35.36938,35.36938 0 0 1 35.36939,35.36938l0,212.21628a35.36938,35.36938 0 0 1 -35.36939,35.36938l-212.21628,0a35.36938,35.36938 0 1 1 0,-70.73875l176.84691,0l0,-176.84691a35.36938,35.36938 0 0 1 35.36938,-35.36938zm-425.17531,18.92262a353.6938,353.6938 0 0 0 -250.09688,103.59692a35.36938,35.36938 0 1 1 -50.0123,-50.0123a424.43256,424.43256 0 0 1 600.21837,0l150.07228,150.0369a35.36938,35.36938 0 0 1 -50.0123,50.04767l-150.10765,-150.07227a353.6938,353.6938 0 0 0 -250.06151,-103.59692zm-460.5447,478.72456a35.36938,35.36938 0 0 1 35.36939,-35.36938l212.21628,0a35.36938,35.36938 0 1 1 0,70.73875l-176.84691,0l0,176.84691a35.36938,35.36938 0 1 1 -70.73876,0l0,-212.21628zm10.36323,-25.00615a35.36938,35.36938 0 0 1 50.0123,0l150.07228,150.07227a353.65843,353.65843 0 0 0 500.19376,0a35.36938,35.36938 0 0 1 50.0123,50.0123a424.43256,424.43256 0 0 1 -600.21837,0l-150.07228,-150.0369a35.36938,35.36938 0 0 1 0,-50.04767z",fill:"#333333"}),o.a.createElement("text",{fontWeight:"normal",transform:"matrix(14.5178 0 0 14.5178 -4468.57 -5462.42)",stroke:"#000",textAnchor:"start",fontFamily:"Noto Sans JP",fontSize:"30",id:"svg_2",y:"421.46735",x:"334.09207",fill:"#000000"},"T")))},Pe=function(){return o.a.createElement(fe.a,{component:Se})},we=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).container=void 0,e.stencilContainer=void 0,e.graph=void 0,e.child=void 0,e.registerSider=function(){var t=new ye({title:"",target:e.graph,stencilGraphWidth:Math.floor(.12*window.innerWidth),stencilGraphHeight:700,stencilGraphPadding:0,layoutOptions:{columns:1,marginY:20,marginX:Math.floor(.01*window.innerWidth),dx:0,dy:0,center:!0,rowHeight:95,columnWidth:Math.floor(.1*window.innerWidth)},groups:[{name:"group1",title:"VQFlow",collapsable:!1}],getDropNode:function(e,t){var n=e.clone();return n.setZIndex(1),n},getDragNode:function(e){return(e=e.clone())instanceof A?(e.setAttrByPath("label/text",""),e.setSize({width:190,height:108})):"subquery-node"===e.shape?(e.setAttrByPath("rank/text",""),e.setAttrByPath("name/text",""),e.setAttrByPath("show/text",""),e.setSize({width:150,height:78})):"reuse-node"===e.shape&&(e.setAttrByPath("rank/text","REUSE"),e.setAttrByPath("name/text",""),e.setSize({width:190,height:58})),e}});e.graph.cleanClipboard(),e.graph.cleanHistory(),e.stencilContainer.appendChild(t.container);var n=K("group1",170,70,"#eeeeee","Requirement"),a=L("node1",140,70,"Table","Filter","Columns",e.graph),o=Y("reusenode",170,49,"REUSE","Requirement",0,e.graph);t.load([n,a,o],"group1")},e.refContainer=function(t){e.container=t},e.refStencil=function(t){e.stencilContainer=t},e.onClickUndo=function(){e.graph.undo()},e.onClickRedo=function(){e.graph.redo()},e.onClickZoomIn=function(){e.graph.zoom(.1)},e.onClickZoomOut=function(){e.graph.zoom(-.1)},e.onClickFront=function(){var t=q(e.graph);null!==t&&t.toFront()},e.onClickBack=function(){var t=q(e.graph);null!==t&&t.toBack()},e.onClickDelete=function(){e.child.setState({editType:"GRAPH"});var t=e.graph.getSelectedCells();t&&t.length?e.graph.removeCells(t):h.b.error("Please select components firstly")},e.copyCells=void 0,e.onClickCopy=function(){var t=e.graph.getSelectedCells();if(t&&t.length){for(var n=0;n<t.length;n++)if(t[n]instanceof d.c)return void h.b.error("Edges cannot be copied!");e.graph.copy(t),e.copyCells=t,h.b.info("Component copied")}else h.b.error("Please select components firstly")},e.onClickPaste=function(){if(e.graph.isClipboardEmpty())h.b.error("Clipboard is empty!");else{var t=-9999999;e.graph.getCells().forEach((function(e){if(e instanceof d.e){var n=e,a=n.getPosition().y+n.getSize().height;a>t&&(t=a)}}));var n=9999999;e.copyCells.forEach((function(e){if(e instanceof d.e){var t=e.getPosition().y;t<n&&(n=t)}}));var a=e.graph.paste({offset:{dx:0,dy:t-n+20}}),o=0;for(o=0;o<e.copyCells.length;o++)a[o].setAttrs(e.copyCells[o].attrs);e.graph.cleanSelection(),e.graph.select(a)}},e.onClickAdjust=function(){var t=e.graph.getSelectedCells();if(t&&1===t.length){var n=t[0];if(!(n instanceof A))return void h.b.error("Please select a Requirements Module!");var a=[];if(function e(t){var n=t.getChildren();null===n||void 0===n||n.forEach((function(t){a.push(t),e(t)}))}(n),a.length>0){var o=99999999,r=99999999,i=-99999999,l=-99999999;a.forEach((function(e){var t=e.getBBox().inflate(10);t.topLeft.x<o&&(o=t.topLeft.x),t.topLeft.y<r&&(r=t.topLeft.y-20),t.bottomRight.x>i&&(i=t.bottomRight.x),t.bottomRight.y>l&&(l=t.bottomRight.y)})),n.setPosition(o,r),n.setSize(i-o,l-r),M(n)}else M(n)}else h.b.info("Please select a Requirements Module")},e.onClickToJPG=function(){var t=e.graph.getContentBBox(),n=d.f.create(t.x,t.y,t.width,t.height);e.graph.toSVG((function(e){d.b.downloadDataUri(d.b.svgToDataUrl(e),"VQFlow_Graph.svg")}),{copyStyles:!0,viewBox:n})},e.onClickToJSON=function(){var t=new Blob([JSON.stringify(e.graph.toJSON())],{type:"text/plain"});d.b.downloadBlob(t,"VQFlow_Graph.json"),h.b.info(JSON.stringify("Saved",null,2))},e.onClickCenter=function(){e.graph.zoomToFit({padding:10,maxScale:1}),e.graph.centerContent()},e.onClickGetClockwisePortOfSourceNode=function(){var t=q(e.graph);if(null!==t)if(t instanceof d.c){var n=t,a=n.getSourceNode(),o=U(n.getSourcePortId());n.setSource({cell:a.id,port:o})}else h.b.error("Please select one edge firstly")},e.onClickGetClockwisePortOfTargetNode=function(){var t=q(e.graph);if(null!==t)if(t instanceof d.c){var n=t,a=n.getTargetNode(),o=U(n.getTargetPortId());n.setTarget({cell:a.id,port:o})}else h.b.error("Please select one edge firstly")},e.onClickGetAntiClockwisePortOfSourceNode=function(){var t=q(e.graph);if(null!==t)if(t instanceof d.c){var n=t,a=n.getSourceNode(),o=Z(n.getSourcePortId());n.setSource({cell:a.id,port:o})}else h.b.error("Please select one edge firstly")},e.onClickGetAntiClockwisePortOfTargetNode=function(){var t=q(e.graph);if(null!==t)if(t instanceof d.c){var n=t,a=n.getTargetNode(),o=Z(n.getTargetPortId());n.setTarget({cell:a.id,port:o})}else h.b.error("Please select one edge firstly")},e.bindChild=function(t){e.child=t},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e,t;this.child.setParent(this),this.graph=new d.d({keyboard:{enabled:!0},history:!0,container:this.container,resizing:{enabled:!0,allowReverse:!1},clipboard:{enabled:!0,useLocalStorage:!0},connecting:{snap:!0,highlight:!0,allowBlank:!1,allowLoop:!1,allowEdge:!1,allowMulti:!1,allowNode:!1,allowPort:!0},highlighting:{embedding:{name:"stroke",args:{padding:-1,attrs:{stroke:"#73d13d"}}}},snapline:{enabled:!0,sharp:!0},selecting:{enabled:!0},scroller:{enabled:!0,pageVisible:!1,pageBreak:!1,pannable:!0}}),this.graph.bindKey("alt+shift+b",this.onClickBack),this.graph.bindKey("alt+shift+f",this.onClickFront),this.graph.bindKey("alt+shift+=",this.onClickZoomIn),this.graph.bindKey("alt+shift+-",this.onClickZoomOut),this.graph.bindKey("delete",this.onClickDelete),this.graph.bindKey("meta+c",this.onClickCopy),this.graph.bindKey("ctrl+c",this.onClickCopy),this.graph.bindKey("meta+v",this.onClickPaste),this.graph.bindKey("ctrl+v",this.onClickPaste),this.graph.bindKey("meta+z",this.onClickUndo),this.graph.bindKey("ctrl+z",this.onClickUndo),this.graph.bindKey("meta+shift+z",this.onClickRedo),this.graph.bindKey("ctrl+shift+z",this.onClickRedo),this.graph.bindKey("alt+shift+s",this.onClickToJPG),this.graph.bindKey("alt+shift+c",this.onClickCenter),this.graph.bindKey("alt+shift+a",this.onClickAdjust),this.registerSider(),this.graph.zoomToFit({padding:10,maxScale:1}),this.graph.centerContent(),function(e){for(var t=document.getElementById("root").querySelectorAll(".x6-port-body"),n=0,a=t.length;n<a;n+=1)t[n].style.visibility=e?"visible":"hidden"}(!1),e=this.graph,t=this.child,e.on("edge:selected",(function(e){e.edge.setAttrByPath("line/stroke","#F87217"),e.edge.setAttrByPath("line/strokeDasharray",3)})),e.on("edge:unselected",(function(e){e.edge.setAttrByPath("line/stroke","#000000"),e.edge.setAttrByPath("line/strokeDasharray",0)})),e.on("node:selected",(function(e){if(!(e.node instanceof A&&e.node.isCollapsed())){var t="";t=e.node instanceof A?"rect":"body",e.node.setAttrByPath(t+"/stroke","#F87217"),e.node.setAttrByPath(t+"/strokeDasharray",3)}})),e.on("node:unselected",(function(e){var t="";t=e.node instanceof A?"rect":"body",e.node.setAttrByPath(t+"/stroke","#000000"),e.node.setAttrByPath(t+"/strokeDasharray",0)})),e.on("edge:added",(function(n){var a=n.edge;R(e,t,a)})),e.on("node:added",(function(n){var a=n.node;console.log("point: "),j(e,t,a);var o=a.position();I(o.x,o.y,a,e)})),e.on("node:click",(function(n){var a=n.node;j(e,t,a)})),e.on("blank:click",(function(t){t.e,t.x,t.y,e.unselect(e.getCells())})),e.on("edge:click",(function(n){var a=n.edge;R(e,t,a)})),e.on("node:mouseenter",(function(){J(!0)})),e.on("node:mouseleave",(function(){J(!1)})),e.on("node:mouseup",(function(t){t.e,I(t.x,t.y,t.node,e)})),e.on("blank:mouseup",(function(e){e.e,e.x,e.y,t.setState({editType:"GRAPH"})})),e.on("node:change:size",(function(e){z(e.node)})),e.on("node:change:position",(function(e){z(e.node)})),e.on("node:collapse",(function(e){var t=e.node;t.toggleCollapse(),M(t),function e(n){var a=n.getChildren();a&&a.forEach((function(n){t.isCollapsed()?n.hide():n.show(),n instanceof A&&(n.isCollapsed()||e(n))}))}(t)})),this.graph.unselect(this.graph.getCells())}},{key:"render",value:function(){return document.getElementById("root").style.height=window.innerHeight+"px",o.a.createElement("div",{className:"wrap"},o.a.createElement("div",{className:"content"},o.a.createElement("div",{id:"stencil",className:"sider",ref:this.refStencil}),o.a.createElement("div",{className:"panel"},o.a.createElement("div",{className:"toolbar"},o.a.createElement(p.a,{hoverEffect:!0,size:"big"},o.a.createElement(me,null,o.a.createElement(ge,{name:"Copy",tooltip:"Copy",icon:o.a.createElement(x.a,null),onClick:this.onClickCopy}),o.a.createElement(ge,{name:"Paste",tooltip:"Paste",icon:o.a.createElement(S.a,null),onClick:this.onClickPaste}),o.a.createElement(ge,{name:"Delete",tooltip:"Delete",icon:o.a.createElement(C.a,null),onClick:this.onClickDelete})),o.a.createElement(me,null,o.a.createElement(ge,{name:"Undo",tooltip:"Undo (Meta+Z / Ctrl+Z)",icon:o.a.createElement(v.a,null),onClick:this.onClickUndo}),o.a.createElement(ge,{name:"redo",tooltip:"Redo (Meta+Shift+Z / Ctrl+Shift+Z)",icon:o.a.createElement(m.a,null),onClick:this.onClickRedo})),o.a.createElement(me,null,o.a.createElement(ge,{name:"Bring to Front",tooltip:"Bring to Front",icon:o.a.createElement(P.a,null),onClick:this.onClickFront}),o.a.createElement(ge,{name:"Send to Back",tooltip:"Send to Back",icon:o.a.createElement(w.a,null),onClick:this.onClickBack})),o.a.createElement(me,null,o.a.createElement(ge,{name:"Zoom In",tooltip:"Zoom In (Alt+Shift+=)",icon:o.a.createElement(f.a,null),onClick:this.onClickZoomIn}),o.a.createElement(ge,{name:"Zoom Out",tooltip:"Zoom Out (Alt+Shift+-)",icon:o.a.createElement(g.a,null),onClick:this.onClickZoomOut})),o.a.createElement(me,null,o.a.createElement(ge,{name:"Center",tooltip:"Center (Alt+Shift+C)",icon:o.a.createElement(b.a,null),onClick:this.onClickCenter}),o.a.createElement(ge,{name:"Adjust Size",tooltip:"Adjust the Size",icon:o.a.createElement(y.a,null),onClick:this.onClickAdjust})),o.a.createElement(me,null,o.a.createElement(ge,{name:"Move source port clockwise",tooltip:"Move source port clockwise",icon:o.a.createElement(Ce,null),onClick:this.onClickGetClockwisePortOfSourceNode}),o.a.createElement(ge,{name:"Move source port anticlockwise",tooltip:"Move source port anticlockwise",icon:o.a.createElement(be,null),onClick:this.onClickGetAntiClockwisePortOfSourceNode}),o.a.createElement(ge,{name:"Move target port clockwise",tooltip:"Move target port clockwise",icon:o.a.createElement(Pe,null),onClick:this.onClickGetClockwisePortOfTargetNode}),o.a.createElement(ge,{name:"Move target port anticlockwise",tooltip:"Move target port anticlockwise",icon:o.a.createElement(xe,null),onClick:this.onClickGetAntiClockwisePortOfTargetNode})),o.a.createElement(me,null,o.a.createElement(ge,{name:"Save to JSON",tooltip:"Save to JSON",icon:o.a.createElement(E.a,null),onClick:this.onClickToJSON}),o.a.createElement(ge,{name:"Save to SVG",tooltip:"Save to SVG",icon:o.a.createElement(k.a,null),onClick:this.onClickToJPG})))),o.a.createElement("div",{id:"container",ref:this.refContainer})),o.a.createElement("div",{className:"config"},o.a.createElement(pe,{onRef:this.bindChild}))))}}]),n}(o.a.Component);n(261);i.a.render(o.a.createElement(we,null),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.7eef5927.chunk.js.map